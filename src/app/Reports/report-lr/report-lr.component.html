<!DOCTYPE html>
<html>

<body>
    <div class="container">
        <div class="table-wrapper">
            <div class="table-title">
                <div class="row">
                    <div class="col-sm-5"><h2>Ledger <b>Report</b></h2></div>
                  </div>
                  <br>
                  <div class="col-sm-9">
                  <form #loanForm="ngForm" (submit)="loanNo()">
                    Enter Loan No:
                    <input type="text" placeholder=" LOAN ID " name="loan_no" [(ngModel)]="credentials.loan_no">
                    <button type="submit"><i class="fa fa-search"></i></button>
                  </form>
                </div>
                </div>
            <div class="col-sm-8" style="overflow-x:auto;">
            <table class="table">
                
                <tbody *ngFor="let loan of loandetails">
                  <tr>
                    <td width="25%"><b>Center Code</b></td>
                    <td>{{loan?.customer.center_no}}</td>
                  </tr>
                  <tr>
                    <td><b>Loan Date</b></td>
                    <td>{{loan?.loan_date}}</td>
                    <td width="30%"><b>Loan No</b></td>
                    <td>{{loan?.loan_no}}</td>
                  </tr>
                  <tr>
                      <td><b>Loan Amount(Rs.)</b></td>
                      <td>{{loan?.loan_amount.toFixed(2)}}</td>
                      <td><b>Loan Type</b></td>
                      <td>{{loan?.loan_index}}</td>
                    </tr>
                    <tr>
                        <td><b>Interest Amount(Rs.)</b></td>
                        <td>{{loan?.loan_interest.toFixed(2)}}</td>
                        <td><b>Amount With Interest(Rs.)</b></td>
                        <td>{{loan?.total_amount.toFixed(2)}}</td> 
                      </tr>
                      <br>
                      <tr>
                          <td><b>Customer Id</b></td>
                          <td>{{loan?.customer.customer_id}}</td>
                          <td><b>Contact No</b></td>
                          <td>{{loan?.customer.tp_no}}</td>
                        </tr>
                        <tr>
                            <td><b>Customer Name</b></td>
                            <td>{{loan?.customer.customer_name}}</td>
                            <td><b>Guardian Name</b></td>
                            <td>{{loan?.customer.guardian_name}}</td>
                          </tr>
                          <tr>
                           <td><b>Customer NIC</b></td>
                           <td>{{loan?.customer.nic_no}}</td>
                           <td><b>Customer Address</b></td>
                           <td>{{loan?.customer.address}}</td>
                           </tr>
                      
                </tbody>
              </table>
            </div>   
            <!-- <div *ngIf='tableDataDummy'> 
              <div *ngFor="let data of tableDataDummy[0].installments">
                <div *ngIf="{data.payment.balance==0.00">
                          <div class="col-md-4 centered">
                              <img src="../../assets/settle.jpg" class="img-fluid">
                      </div>
                      </div>
                      </div>
                     </div> -->
             
               <br> <br>    <br>
                 
            <table class="table table-striped table-hover table-bordered" id="myTable">
                <thead>
                    <tr>
                        <th>InstallmentNo</th>
                        <th>Due Date</th>
                        <th>Pay Date</th>
                        <th>Due Amt</th>
                        <th>Arrears Amt</th>
                        <th>Pay Amt</th>
                        <th>Total Paid</th>
                        <th>Balance</th>
                        
                    </tr>
                </thead>
               
                    <tbody *ngIf='tableDataDummy'>
                            <tr *ngFor="let data of tableDataDummy[0].installments">
                                            <td class="pt-3-half">{{data.installment_no}}</td>
                                            <td class="pt-3-half">{{data.payment.payment_duedates}}</td>
                                            <td class="pt-3-half">{{data.payment_date}}</td>
                                            <td class="pt-3-half">{{tableDataDummy[0].due_amount.toFixed(2)}}</td>
                                            <td class="pt-3-half">{{data.status_amount.toFixed(2)}}</td>
                                            <td class="pt-3-half">{{data.amount.toFixed(2)}}</td>
                                            <td class="pt-3-half">{{data.total_amount.toFixed(2)}}</td>
                                            <td class="pt-3-half">{{data.payment.balance.toFixed(2)}}</td> 
                                   
                                    </tr>
                    </tbody>

                </table>
               
              </div>
            </div>
          </body>
          </html>
